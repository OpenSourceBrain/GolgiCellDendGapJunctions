//  ******************************************************
// 
//     File generated by: neuroConstruct v1.6.0
// 
//  ******************************************************

{load_file("nrngui.hoc")}
{startsw()}

objectvar allCells
{allCells = new List()}

{nC = 1}

{load_file("nCtools.hoc")}
{load_file("cellCheck.hoc")}
{hostid = 0}

{use_mcell_ran4(1)}

{mcell_ran4_init(977375307)}
{ load_file("morphology_140311_C1.hoc") }
{n_source_blue = 1}

{n_source_blue_local = 0 } // actual number created on this host

objectvar a_source_blue[n_source_blue]

proc addCell_source_blue() {
    strdef reference
    sprint(reference, "source_blue_%d", $1)
    a_source_blue[$1] = new morphology_140311_C1(reference, "morphology_140311_C1", "Cell: soma exported from NEURON ModelView")
    allCells.append(a_source_blue[$1])
}

for i = 0, n_source_blue-1 {
    addCell_source_blue(i)
    n_source_blue_local = n_source_blue_local +1 

}

{a_source_blue[0].position(156.93073,10.442358,130.46289)}
//{a_source_blue[0].position(500,500,500)}

{n_target_blue = 10}

{n_target_blue_local = 0 } // actual number created on this host

objectvar a_target_blue[n_target_blue]

proc addCell_target_blue() {
    strdef reference
    sprint(reference, "target_blue_%d", $1)
    a_target_blue[$1] = new morphology_140311_C1(reference, "morphology_140311_C1", "Cell: soma exported from NEURON ModelView")
    allCells.append(a_target_blue[$1])
}

for i = 0, n_target_blue-1 {
    addCell_target_blue(i)
    n_target_blue_local = n_target_blue_local +1 

}

{a_target_blue[0].position(88.153694,69.96557,179.33116)}
{a_target_blue[1].position(96.1578,123.317116,198.95811)}
{a_target_blue[2].position(54.00905,8.301276,47.73334)}
{a_target_blue[3].position(114.858376,61.85004,182.4643)}
{a_target_blue[4].position(65.798836,57.223446,134.51875)}
{a_target_blue[5].position(129.50533,78.03113,194.07916)}
{a_target_blue[6].position(171.49524,110.61814,31.021921)}
{a_target_blue[7].position(27.40097,99.353165,52.142292)}
{a_target_blue[8].position(83.16903,52.509247,186.66713)}
{a_target_blue[9].position(85.007904,56.68238,156.00378)}

/*
strdef simConfig
{simConfig = "Default Simulation Configuration"}
{celsius = 6.3}




proc initialiseValues0() {

    for i = 0, n_source_blue-1 {
        forsec a_source_blue[i].all  v = -65.0

    }

    for i = 0, n_target_blue-1 {
        forsec a_target_blue[i].all  v = -65.0

    }

}

objref fih0
{fih0 = new FInitializeHandler(0, "initialiseValues0()")}

*/



objectvar elecsyn_NetConn_source_blue_target_blue_gapCond_A[20]

objectvar elecsyn_NetConn_source_blue_target_blue_gapCond_B[20]

a_target_blue[0].dend_12 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[0] = new gapCond(0.79525584) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[0].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[0].vgap, a_source_blue[0].dend_2.v(0.73291886)

a_source_blue[0].dend_2 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[0] = new gapCond(0.73291886) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[0].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[0].vgap, a_target_blue[0].dend_12.v(0.79525584)

a_target_blue[0].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[1] = new gapCond(0.53536165) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[1].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[1].vgap, a_source_blue[0].dend_0.v(0.23916623)

a_source_blue[0].dend_0 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[1] = new gapCond(0.23916623) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[1].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[1].vgap, a_target_blue[0].dend_31.v(0.53536165)

a_target_blue[1].dend_21 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[2] = new gapCond(0.56832105) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[2].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[2].vgap, a_source_blue[0].dend_7.v(0.3874908)

a_source_blue[0].dend_7 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[2] = new gapCond(0.3874908) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[2].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[2].vgap, a_target_blue[1].dend_21.v(0.56832105)

a_target_blue[1].dend_7 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[3] = new gapCond(0.6578175) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[3].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[3].vgap, a_source_blue[0].dend_11.v(0.10931499)

a_source_blue[0].dend_11 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[3] = new gapCond(0.10931499) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[3].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[3].vgap, a_target_blue[1].dend_7.v(0.6578175)

a_target_blue[2].dend_28 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[4] = new gapCond(0.22851402) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[4].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[4].vgap, a_source_blue[0].dend_1.v(0.42151988)

a_source_blue[0].dend_1 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[4] = new gapCond(0.42151988) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[4].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[4].vgap, a_target_blue[2].dend_28.v(0.22851402)

a_target_blue[2].dend_8 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[5] = new gapCond(0.90217066) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[5].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[5].vgap, a_source_blue[0].dend_2.v(0.943128)

a_source_blue[0].dend_2 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[5] = new gapCond(0.943128) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[5].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[5].vgap, a_target_blue[2].dend_8.v(0.90217066)

a_target_blue[3].dend_2 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[6] = new gapCond(0.43619344) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[6].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[6].vgap, a_source_blue[0].dend_9.v(0.95048815)

a_source_blue[0].dend_9 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[6] = new gapCond(0.95048815) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[6].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[6].vgap, a_target_blue[3].dend_2.v(0.43619344)

a_target_blue[3].dend_11 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[7] = new gapCond(0.7760386) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[7].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[7].vgap, a_source_blue[0].dend_31.v(0.62429684)

a_source_blue[0].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[7] = new gapCond(0.62429684) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[7].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[7].vgap, a_target_blue[3].dend_11.v(0.7760386)

a_target_blue[4].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[8] = new gapCond(0.47458893) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[8].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[8].vgap, a_source_blue[0].dend_22.v(0.92283344)

a_source_blue[0].dend_22 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[8] = new gapCond(0.92283344) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[8].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[8].vgap, a_target_blue[4].dend_31.v(0.47458893)

a_target_blue[4].dend_15 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[9] = new gapCond(0.17599542) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[9].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[9].vgap, a_source_blue[0].dend_31.v(0.08967213)

a_source_blue[0].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[9] = new gapCond(0.08967213) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[9].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[9].vgap, a_target_blue[4].dend_15.v(0.17599542)

a_target_blue[5].dend_21 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[10] = new gapCond(0.6839905) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[10].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[10].vgap, a_source_blue[0].dend_21.v(0.86438394)

a_source_blue[0].dend_21 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[10] = new gapCond(0.86438394) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[10].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[10].vgap, a_target_blue[5].dend_21.v(0.6839905)

a_target_blue[5].dend_30 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[11] = new gapCond(0.5734617) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[11].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[11].vgap, a_source_blue[0].dend_31.v(0.4572773)

a_source_blue[0].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[11] = new gapCond(0.4572773) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[11].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[11].vgap, a_target_blue[5].dend_30.v(0.5734617)

a_target_blue[6].dend_11 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[12] = new gapCond(0.30855432) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[12].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[12].vgap, a_source_blue[0].dend_29.v(0.8209203)

a_source_blue[0].dend_29 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[12] = new gapCond(0.8209203) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[12].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[12].vgap, a_target_blue[6].dend_11.v(0.30855432)

a_target_blue[6].dend_19 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[13] = new gapCond(0.38041344) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[13].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[13].vgap, a_source_blue[0].dend_9.v(0.65125823)

a_source_blue[0].dend_9 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[13] = new gapCond(0.65125823) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[13].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[13].vgap, a_target_blue[6].dend_19.v(0.38041344)

a_target_blue[7].dend_19 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[14] = new gapCond(0.13074507) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[14].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[14].vgap, a_source_blue[0].dend_4.v(0.36636472)

a_source_blue[0].dend_4 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[14] = new gapCond(0.36636472) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[14].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[14].vgap, a_target_blue[7].dend_19.v(0.13074507)

a_target_blue[7].dend_22 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[15] = new gapCond(0.03005712) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[15].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[15].vgap, a_source_blue[0].dend_28.v(0.18816888)

a_source_blue[0].dend_28 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[15] = new gapCond(0.18816888) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[15].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[15].vgap, a_target_blue[7].dend_22.v(0.03005712)

a_target_blue[8].dend_8 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[16] = new gapCond(0.11163572) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[16].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[16].vgap, a_source_blue[0].dend_19.v(0.4595908)

a_source_blue[0].dend_19 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[16] = new gapCond(0.4595908) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[16].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[16].vgap, a_target_blue[8].dend_8.v(0.11163572)

a_target_blue[8].dend_2 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[17] = new gapCond(0.17008716) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[17].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[17].vgap, a_source_blue[0].dend_4.v(0.08814731)

a_source_blue[0].dend_4 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[17] = new gapCond(0.08814731) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[17].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[17].vgap, a_target_blue[8].dend_2.v(0.17008716)

a_target_blue[9].dend_10 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[18] = new gapCond(0.1708655) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[18].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[18].vgap, a_source_blue[0].dend_0.v(0.93320566)

a_source_blue[0].dend_0 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[18] = new gapCond(0.93320566) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[18].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[18].vgap, a_target_blue[9].dend_10.v(0.1708655)

a_target_blue[9].dend_31 { elecsyn_NetConn_source_blue_target_blue_gapCond_A[19] = new gapCond(0.015513578) }
elecsyn_NetConn_source_blue_target_blue_gapCond_A[19].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_A[19].vgap, a_source_blue[0].dend_30.v(0.34757754)

a_source_blue[0].dend_30 { elecsyn_NetConn_source_blue_target_blue_gapCond_B[19] = new gapCond(0.34757754) }
elecsyn_NetConn_source_blue_target_blue_gapCond_B[19].weight = 1.0
setpointer elecsyn_NetConn_source_blue_target_blue_gapCond_B[19].vgap, a_target_blue[9].dend_31.v(0.015513578)


access morphology_140311_C1[0].soma

tstop = 700.0
dt = 0.025
steps_per_ms = 40.0

objref v_time
objref f_time
objref propsFile

strdef simReference
simReference = "Sim_1"



strdef simsDir
simsDir = "X:/Miki/01 Projects/00 Preliminary/02 Models/01 neuroConstruct/Passive_GoC_membrane_kinetics/simulations/"

strdef targetDir
{ sprint(targetDir, "%s%s/", simsDir, simReference)}

strdef date
// Note: not showing date/time of start/stop of simulation. This requires Cygwin to be installed// which includes the "date" unix command. Install under c:\cygwin

setuptime = stopsw()

print "Setup time for simulation: ",setuptime," seconds"

print "Starting simulation of duration ",tstop,"ms,  variable time step, reference: ",simReference,""

{currenttime = startsw()}
{cvode.active(1)}
{cvode.atol(0.001)}
{run()}

{realruntime = startsw() - currenttime}
print "Finished simulation in ", realruntime ,"seconds"

{
xpanel("RunControl", 0)
v_init = 0.0
xbutton("Init & Run","run()")
xbutton("Stop","stoprun=1")
t = 0
xvalue("t","t", 2 )
tstop = 700.0
xvalue("Tstop","tstop", 1,"tstop_changed()", 0, 1 )
dt = 0.025
 xvalue("dt","dt", 1,"setdt()", 0, 1 )
xpanel(80,80)
}

